async function loadDashboardData(){try{const[t,e,s,o,a]=await Promise.all([FibrasolUtils.api.get("/dashboards/riders"),FibrasolUtils.api.get("/dashboards/clients"),FibrasolUtils.api.get("/dashboards/sales-persons"),FibrasolUtils.api.get("/dashboards/delivery-orders"),FibrasolUtils.api.get("/dashboards/invoices")]);FibrasolUtils.ui.updateCounter("driversCount",t),FibrasolUtils.ui.updateCounter("clientsCount",e),FibrasolUtils.ui.updateCounter("salesPersonsCount",s),FibrasolUtils.ui.updateCounter("ordersCount",o),updateInvoicesCounter(a)}catch(t){console.error("Error loading dashboard data:",t),showErrorState()}}function updateInvoicesCounter(t){const e=t.invoices||0,s=t.signedInvoices||0;FibrasolUtils.ui.updateCounter("invoicesCount",e);const o=document.getElementById("invoicesProgress"),a=document.getElementById("invoicesText");if(o&&a){const t=e>0?s/e*100:0;setTimeout(()=>{o.style.width=`${t}%`,a.textContent=`${s.toLocaleString("es-GT")}/${e.toLocaleString("es-GT")} firmadas`},300)}}function showErrorState(){["driversCount","clientsCount","salesPersonsCount","ordersCount","invoicesCount"].forEach(t=>{const e=document.getElementById(t);e&&(e.innerHTML='<span class="error-message">Error al cargar</span>')});const t=document.getElementById("invoicesText");t&&(t.innerHTML='<span class="error-message">Error</span>')}function updateTimestamp(){const t=(new Date).toLocaleString("es-GT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e=document.getElementById("lastUpdate");e&&(e.textContent=t)}document.addEventListener("DOMContentLoaded",function(){loadDashboardData(),updateTimestamp()}),setInterval(function(){loadDashboardData(),updateTimestamp()},3e5);