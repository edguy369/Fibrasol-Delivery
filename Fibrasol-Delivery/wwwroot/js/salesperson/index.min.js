function openCreateModal(){document.getElementById("salesPersonModalLabel").textContent="Nuevo Vendedor",document.getElementById("salesPersonId").value="",document.getElementById("salesPersonName").value=""}function editSalesPerson(e,s){document.getElementById("salesPersonModalLabel").textContent="Editar Vendedor",document.getElementById("salesPersonId").value=e,document.getElementById("salesPersonName").value=s,FibrasolUtils.ui.showModal("salesPersonModal")}function deleteSalesPerson(e){confirm("¿Está seguro de que desea eliminar este vendedor?")&&FibrasolUtils.api.ajax({url:"/sales-persons/"+e,type:"DELETE",data:JSON.stringify({}),success:function(e){FibrasolUtils.ui.showSuccessMessage("Vendedor eliminado correctamente"),FibrasolUtils.datatables.reloadTable("salesPersonsTable")},error:function(e,s,a){console.error("Error deleting sales person:",a),alert("Error al eliminar el vendedor. Por favor, inténtelo de nuevo.")}})}function saveSalesPerson(){const e=document.getElementById("salesPersonId").value,s=document.getElementById("salesPersonName").value.trim();if(!s)return void alert("Por favor, ingrese el nombre del vendedor.");const a=document.querySelector("#salesPersonModal .btn-primary-custom");FibrasolUtils.ui.setButtonLoading(a);const o={Name:s},t=!!e;FibrasolUtils.api.ajax({url:t?`/sales-persons/${e}`:"/sales-persons",type:t?"PUT":"POST",data:JSON.stringify(o),success:function(e){FibrasolUtils.ui.hideModal("salesPersonModal"),FibrasolUtils.ui.showSuccessMessage(t?"Vendedor actualizado correctamente":"Vendedor creado correctamente"),FibrasolUtils.datatables.reloadTable("salesPersonsTable")},error:function(e,s,a){console.error(`Error ${t?"updating":"creating"} sales person:`,a),alert(`Error al ${t?"actualizar":"crear"} el vendedor. Por favor, inténtelo de nuevo.`)},complete:function(){FibrasolUtils.ui.setButtonLoading(a,!1)}})}$(document).ready(function(){$("#salesPersonsTable").DataTable({ajax:{url:"/sales-persons",type:"GET",dataSrc:""},columns:[{data:"id"},{data:"name"},{data:null,orderable:!1,render:function(e,s,a){return FibrasolUtils.datatables.createActionButtons(a.id,a.name,{editFn:"editSalesPerson",deleteFn:"deleteSalesPerson"})}}],...FibrasolUtils.datatables.getSpanishConfig(),order:[[0,"asc"]]})});