function getTableColumns(){return[{data:"id"},{data:"status.name",render:function(e,a,n){return`<span class="status-badge ${"finalizado"===e.toLowerCase()?"status-delivered":"status-pending"}">${e}</span>`}},{data:"created",render:function(e,a,n){return FibrasolUtils.dates.formatDateTime(e)}},{data:"total",render:function(e,a,n){return FibrasolUtils.currency.format(e)}},{data:null,orderable:!1,render:function(e,a,n){return`<a href="/constancias/${n.id}/impresion" class="btn btn-print btn-sm me-1" target="_blank">\n                           <i class="bi bi-printer"></i>\n                       </a>\n                       <a href="/constancias/${n.id}" class="btn btn-view btn-sm me-1">\n                           <i class="bi bi-eye"></i>\n                       </a>\n                       <button type="button" class="btn btn-delete btn-sm" onclick="deleteDeliveryOrder(${n.id})">\n                           <i class="bi bi-trash"></i>\n                       </button>`}}]}function initializeEmptyTable(){$("#deliveryOrdersTable").DataTable({data:[],columns:getTableColumns(),...FibrasolUtils.datatables.getSpanishConfig(),language:{url:"https://cdn.datatables.net/plug-ins/1.13.7/i18n/es-ES.json",emptyTable:"Actualmente no hay constancias de entrega",zeroRecords:"Actualmente no hay constancias de entrega"},order:[[0,"desc"]]})}function deleteDeliveryOrder(e){confirm("¿Está seguro de que desea eliminar esta orden de entrega?")&&FibrasolUtils.api.ajax({url:"/delivery-orders/"+e,type:"DELETE",success:function(e){FibrasolUtils.ui.showSuccessMessage("Constancia de entrega eliminada correctamente"),FibrasolUtils.datatables.reloadTable("deliveryOrdersTable")},error:function(e,a,n){console.error("Error deleting delivery order:",n),FibrasolUtils.ui.showErrorMessage("Error al eliminar la constancia de entrega. Por favor, inténtelo de nuevo.")}})}$(document).ready(function(){$("#deliveryOrdersTable").DataTable({ajax:{url:"/delivery-orders",type:"GET",dataSrc:"",error:function(e,a,n){console.error("Error loading delivery orders:",n),FibrasolUtils.ui.showErrorMessage("Actualmente no hay constancias de entrega"),$("#deliveryOrdersTable").DataTable().destroy(),initializeEmptyTable()}},columns:getTableColumns(),...FibrasolUtils.datatables.getSpanishConfig(),language:{url:"https://cdn.datatables.net/plug-ins/1.13.7/i18n/es-ES.json",loadingRecords:"Cargando constancias de entrega...",emptyTable:"Actualmente no hay constancias de entrega",zeroRecords:"Actualmente no hay constancias de entrega"},order:[[0,"desc"]]})});