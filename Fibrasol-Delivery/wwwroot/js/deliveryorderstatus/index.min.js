function openCreateModal(){document.getElementById("deliveryStatusModalLabel").textContent="Nuevo Estado",document.getElementById("deliveryStatusId").value="",document.getElementById("deliveryStatusName").value=""}function editDeliveryStatus(e,t){document.getElementById("deliveryStatusModalLabel").textContent="Editar Estado",document.getElementById("deliveryStatusId").value=e,document.getElementById("deliveryStatusName").value=t,FibrasolUtils.ui.showModal("deliveryStatusModal")}function deleteDeliveryStatus(e){confirm("¿Está seguro de que desea eliminar este estado de entrega?")&&FibrasolUtils.api.ajax({url:"/delivery-statuses/"+e,type:"DELETE",success:function(e){FibrasolUtils.ui.showSuccessMessage("Estado eliminado correctamente"),FibrasolUtils.datatables.reloadTable("deliveryStatusesTable")},error:function(e,t,a){console.error("Error deleting delivery status:",a),alert("Error al eliminar el estado. Por favor, inténtelo de nuevo.")}})}function saveDeliveryStatus(){const e=document.getElementById("deliveryStatusId").value,t=document.getElementById("deliveryStatusName").value.trim();if(!t)return void alert("Por favor, ingrese el nombre del estado.");const a=document.querySelector("#deliveryStatusModal .btn-primary-custom");FibrasolUtils.ui.setButtonLoading(a);const l={Name:t},r=!!e;FibrasolUtils.api.ajax({url:r?`/delivery-statuses/${e}`:"/delivery-statuses",type:r?"PUT":"POST",data:JSON.stringify(l),success:function(e){FibrasolUtils.ui.hideModal("deliveryStatusModal"),FibrasolUtils.ui.showSuccessMessage(r?"Estado actualizado correctamente":"Estado creado correctamente"),FibrasolUtils.datatables.reloadTable("deliveryStatusesTable")},error:function(e,t,a){console.error(`Error ${r?"updating":"creating"} delivery status:`,a),alert(`Error al ${r?"actualizar":"crear"} el estado. Por favor, inténtelo de nuevo.`)},complete:function(){FibrasolUtils.ui.setButtonLoading(a,!1)}})}$(document).ready(function(){$("#deliveryStatusesTable").DataTable({ajax:{url:"/delivery-statuses",type:"GET",dataSrc:""},columns:[{data:"id"},{data:"name"},{data:null,orderable:!1,render:function(e,t,a){return FibrasolUtils.datatables.createActionButtons(a.id,a.name,{editFn:"editDeliveryStatus",deleteFn:"deleteDeliveryStatus"})}}],...FibrasolUtils.datatables.getSpanishConfig(),order:[[0,"asc"]]})});