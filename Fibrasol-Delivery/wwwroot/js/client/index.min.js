function openCreateModal(){document.getElementById("clientModalLabel").textContent="Nuevo Cliente",document.getElementById("clientId").value="",document.getElementById("clientName").value=""}function editClient(e,t){document.getElementById("clientModalLabel").textContent="Editar Cliente",document.getElementById("clientId").value=e,document.getElementById("clientName").value=t,FibrasolUtils.ui.showModal("clientModal")}function deleteClient(e){confirm("¿Está seguro de que desea eliminar este cliente?")&&FibrasolUtils.api.ajax({url:"/clients/"+e,type:"DELETE",data:JSON.stringify({}),success:function(e){FibrasolUtils.ui.showSuccessMessage("Cliente eliminado correctamente"),FibrasolUtils.datatables.reloadTable("clientsTable")},error:function(e,t,l){console.error("Error deleting client:",l),alert("Error al eliminar el cliente. Por favor, inténtelo de nuevo.")}})}function saveClient(){const e=document.getElementById("clientId").value,t=document.getElementById("clientName").value.trim();if(!t)return void alert("Por favor, ingrese el nombre del cliente.");const l=document.querySelector("#clientModal .btn-primary-custom");FibrasolUtils.ui.setButtonLoading(l);const n={Name:t},a=!!e;FibrasolUtils.api.ajax({url:a?`/clients/${e}`:"/clients",type:a?"PUT":"POST",data:JSON.stringify(n),success:function(e){FibrasolUtils.ui.hideModal("clientModal"),FibrasolUtils.ui.showSuccessMessage(a?"Cliente actualizado correctamente":"Cliente creado correctamente"),FibrasolUtils.datatables.reloadTable("clientsTable")},error:function(e,t,l){console.error(`Error ${a?"updating":"creating"} client:`,l),alert(`Error al ${a?"actualizar":"crear"} el cliente. Por favor, inténtelo de nuevo.`)},complete:function(){FibrasolUtils.ui.setButtonLoading(l,!1)}})}$(document).ready(function(){$("#clientsTable").DataTable({ajax:{url:"/clients",type:"GET",dataSrc:""},columns:[{data:"id"},{data:"name"},{data:null,orderable:!1,render:function(e,t,l){return FibrasolUtils.datatables.createActionButtons(l.id,l.name,{editFn:"editClient",deleteFn:"deleteClient"})}}],...FibrasolUtils.datatables.getSpanishConfig(),order:[[0,"asc"]]})});