function openCreateModal(){document.getElementById("riderModalLabel").textContent="Nuevo Conductor",document.getElementById("riderId").value="",document.getElementById("riderName").value=""}function editRider(e,r){document.getElementById("riderModalLabel").textContent="Editar Conductor",document.getElementById("riderId").value=e,document.getElementById("riderName").value=r,FibrasolUtils.ui.showModal("riderModal")}function deleteRider(e){confirm("¿Está seguro de que desea eliminar este conductor?")&&FibrasolUtils.api.ajax({url:"/riders/"+e,type:"DELETE",data:JSON.stringify({}),success:function(e){FibrasolUtils.ui.showSuccessMessage("Conductor eliminado correctamente"),FibrasolUtils.datatables.reloadTable("ridersTable")},error:function(e,r,t){console.error("Error deleting rider:",t),alert("Error al eliminar el conductor. Por favor, inténtelo de nuevo.")}})}function saveRider(){const e=document.getElementById("riderId").value,r=document.getElementById("riderName").value.trim();if(!r)return void alert("Por favor, ingrese el nombre del conductor.");const t=document.querySelector("#riderModal .btn-primary-custom");FibrasolUtils.ui.setButtonLoading(t);const o={Name:r},a=!!e;FibrasolUtils.api.ajax({url:a?`/riders/${e}`:"/riders",type:a?"PUT":"POST",data:JSON.stringify(o),success:function(e){FibrasolUtils.ui.hideModal("riderModal"),FibrasolUtils.ui.showSuccessMessage(a?"Conductor actualizado correctamente":"Conductor creado correctamente"),FibrasolUtils.datatables.reloadTable("ridersTable")},error:function(e,r,t){console.error(`Error ${a?"updating":"creating"} rider:`,t),alert(`Error al ${a?"actualizar":"crear"} el conductor. Por favor, inténtelo de nuevo.`)},complete:function(){FibrasolUtils.ui.setButtonLoading(t,!1)}})}$(document).ready(function(){$("#ridersTable").DataTable({ajax:{url:"/riders",type:"GET",dataSrc:""},columns:[{data:"id"},{data:"name"},{data:null,orderable:!1,render:function(e,r,t){return FibrasolUtils.datatables.createActionButtons(t.id,t.name,{editFn:"editRider",deleteFn:"deleteRider"})}}],...FibrasolUtils.datatables.getSpanishConfig(),order:[[0,"asc"]]})});